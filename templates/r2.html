<!DOCTYPE html>
<html lang="en">

<head>
    
    {% block title %}<title>R2</title>{% endblock %}

    {% block head %}
    <link rel='shortcut icon' href='../../../static/img/yobi.ico' type='image/x-icon'/ >
    <!-- <link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet"> -->
    <link rel="stylesheet" type="text/css" href="../static/bootstrap/css/bootstrap.min.css">
    <!-- <link href="http://getbootstrap.com/examples/jumbotron-narrow/jumbotron-narrow.css" rel="stylesheet"> -->
    <link rel="stylesheet" type="text/css" href="../static/bootstrap/css/bootstrap-theme.min.css">
    <link rel="stylesheet" type="text/css" href="../static/css/results.css">
    <link rel="stylesheet" type="text/css" href="../static/css/grid.css">

    {% endblock %}

</head>

<body>
{% block style %}
<style type="text/css">

body {
    background-color: #F0F0F0;
    text-align: center;
}

.info {
    float: left;
    background-color: #F0F0F0;
    box-shadow: 0px 0px 5px 0px #A0A0A0;
}

table {
    background-color: #FFFFFF;
}

td p {
    font-size: 11px;
}

.container {
    padding: 0em;
    margin: 0em;
}

.addtl td {
    font-size: 12px;
}

</style>
{% endblock %}

{% block javascript %}
<script type="text/javascript">
function colorChange(id) {

    orange_min = 1;
    red_min = 2;
    
    count = 0;
    var td = document.getElementById(id);;
    var arr = document.getElementsByClassName('pct');
    for(var i=0; i< arr.length; i++){
        pct = parseFloat(arr[i].innerHTML);
    }
    if (pct < 80.0) {
        td.style.background = '#ffb3b3';
    }
    else if (pct < 90.0) {
        td.style.background = '#ffe0b3';
    }
    else {
        td.style.background = '#c1f0c1';
    }
}
</script>
{% endblock %}

{% block content %}
<div class="container">

    {% block analytics %}
        <div class="grid_3 info" style="float: left;">
        {% for a in analytics %}
            {% if a %}
                <table border='1' style="width: 100%">
                    <tr>
                        <th colspan="2"><a href="/results/{{ a[0] }}">{{ a[0] }}</a></th>
                    </tr>
                    <tr id="{{ a[0] }}">
                        <td class="pct" colspan="2">{{ a[1] }}%</td>
                    </tr>
                    <tr class="addtl">
                        <td>Misses:</td>
                        <td>{{ a[2] }}</td>
                    </tr>
                    <tr class="addtl">
                        <td>Uploads:</td>
                        <td>{{ a[3] }}</td>
                    </tr>
                    <tr class="addtl">
                        <td>Hangs (10+):</td>
                        <td>{{ a[4] }}</td>
                    </tr>
                    <tr class="addtl">
                        <td>Hang times:</td>
                        <td>
                            {% for t in a[5] %}
                                {{ t }}<br>
                            {% endfor %}
                        </td>
                    </tr>
                    <tr class="addtl">
                        <td>Fail times:</td>
                        <td>
                            {% for t in a[6] %}
                                {{ t }}<br>
                            {% endfor %}
                        </td>
                    </tr>
                    <script type="text/javascript">
                        colorChange({{ a[0] }})
                    </script>
                </table>
            {% endif %}
        {% endfor %}
        </div>

    {% endblock %}

</div>
{% endblock %}
</body>

</html>
